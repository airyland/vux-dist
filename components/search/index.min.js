!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vuxSearch=t():e.vuxSearch=t()}(this,function(){return function(e){function t(i){if(s[i])return s[i].exports;var a=s[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){var i,a;s(2),i=s(1);var c=s(3);a=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(a=i=i.default),"function"==typeof a&&(a=a.options),a.render=c.render,a.staticRenderFns=c.staticRenderFns,e.exports=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{required:{type:Boolean,default:!1},placeholder:String,cancelText:String,value:{type:String,default:""},results:{type:Array,default:function(){return[]}},autoFixed:{type:Boolean,default:!0},top:{type:String,default:"0px"}},created:function(){this.value&&(this.currentValue=this.value)},methods:{clear:function(){this.currentValue="",this.isFocus=!0,this.setFocus()},cancel:function(){this.currentValue="",this.isCancel=!0,this.isFixed=!1,this.$emit("on-cancel")},handleResultClick:function(e){this.$emit("result-click",e),this.isCancel=!0,this.isFixed=!1},touch:function(){this.isCancel=!1,this.autoFixed&&(this.isFixed=!0),this.$emit("on-touch")},setFocus:function(){this.$refs.input.focus()}},data:function(){return{currentValue:"",isCancel:!0,isFocus:!1,isFixed:!1}},watch:{isFixed:function(e){e===!0&&(this.setFocus(),this.isFocus=!0)},value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("on-change",e),this.$emit("input",e)}}}},function(e,t){},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vux-search-box",class:{"vux-search-fixed":e.isFixed},style:{top:e.isFixed?e.top:""}},[s("div",{staticClass:"weui_search_bar",class:{weui_search_focusing:!e.isCancel},attrs:{id:"search_bar"}},[s("form",{staticClass:"weui_search_outer",on:{submit:function(t){t.preventDefault(),e.$emit("on-submit",e.value)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFixed&&e.autoFixed,expression:"!isFixed && autoFixed"}],staticClass:"vux-search-mask",on:{click:e.touch}}),e._v(" "),s("div",{staticClass:"weui_search_inner"},[s("i",{staticClass:"weui_icon_search"}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui_search_input",attrs:{type:"search",id:"search_input",placeholder:e.placeholder,autocomplete:"off",required:e.required},domProps:{value:e._s(e.currentValue)},on:{focus:function(t){e.isFocus=!0},blur:function(t){e.isFocus=!1},input:function(t){t.target.composing||(e.currentValue=t.target.value)}}}),e._v(" "),s("a",{staticClass:"weui_icon_clear",attrs:{href:"javascript:",id:"search_clear"},on:{click:e.clear}})]),e._v(" "),s("label",{directives:[{name:"show",rawName:"v-show",value:!e.isFocus&&!e.value,expression:"!isFocus && !value"}],staticClass:"weui_search_text",attrs:{for:"search_input",id:"search_text"}},[s("i",{staticClass:"weui_icon_search"}),e._v(" "),s("span",[e._v(e._s(e.placeholder||"搜索"))])])]),e._v(" "),s("a",{staticClass:"weui_search_cancel",attrs:{href:"javascript:",id:"search_cancel"},on:{click:e.cancel}},[e._v(e._s(e.cancelText||"取消"))])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isFixed,expression:"isFixed"}],staticClass:"weui_cells weui_cells_access vux-search_show",attrs:{id:"search_show"}},[e._t("default"),e._v(" "),e._l(e.results,function(t){return s("div",{staticClass:"weui_cell",on:{click:function(s){e.handleResultClick(t)},touchmove:function(e){e.preventDefault()}}},[s("div",{staticClass:"weui_cell_bd weui_cell_primary"},[s("p",[e._v(e._s(t.title))])])])})],2)])},staticRenderFns:[]}}])});